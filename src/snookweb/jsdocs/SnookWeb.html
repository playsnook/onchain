<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: SnookWeb</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: SnookWeb</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>SnookWeb<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">SnookWeb class.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="SnookWeb"><span class="type-signature"></span>new SnookWeb<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".formatSnookPrice"><span class="type-signature">(static) </span>formatSnookPrice<span class="signature">(price)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Returns price of a snook in SKILL (converts from WEIs).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>price</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">price in Wei.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line162">line 162</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="allowGame"><span class="type-signature">(async) </span>allowGame<span class="signature">(snookId)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    Before user is got into the game, he should permit our system to use his snook
for the game (lock it). This method asks user for the permission through 
his wallet. 
Throws SnookWebExecption if user rejects.
Returns undefined in case user gives the permission.
After this method is called, the game server should be instructed to put snookId 
and server id on RabbitMQ and wait to acknowledgemnt from Wallet server. Then GS 
puts the user to the game.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>snookId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">snook id</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line214">line 214</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        SnookWebException
    
    </div>


    


<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="approvePayment"><span class="type-signature">(async) </span>approvePayment<span class="signature">(price)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    When user wants to buy a new snook, user should approve our system can spend his SKILL budget.
The methods asks user to approve this through his wallet.
The address returned by the method should be transferred to the game server and then to
the wallet server though RabbitMQ.
After calling this method, the game server should be instructed to (1) generate a random trait
for a snook and (2) put mintRequest on RabbitMQ.
The method throws SnookWebException on error.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>price</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">price of a snook in SKILL</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line192">line 192</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        SnookWebException
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Ethereum address of the user
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSnookPrice"><span class="type-signature">(async) </span>getSnookPrice<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Returns Uniswap price of the snook.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line171">line 171</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        SnookWebException
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    - Price of a snook in SKILL at the moment of call.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSnooks"><span class="type-signature">(async) </span>getSnooks<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#Snook">Snook</a>>}</span></h4>
    

    



<div class="description">
    Returns array of snooks owned by logged in user.
Throws SnookWebException if user is not logged in.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        SnookWebException
    
    </div>


    


<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#Snook">Snook</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSupportedWallets"><span class="type-signature"></span>getSupportedWallets<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#Wallet">Wallet</a>>}</span></h4>
    

    



<div class="description">
    Returns supported wallets. Name of the wallet is used in login().
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#Wallet">Wallet</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="login"><span class="type-signature">(async) </span>login<span class="signature">(walletName)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    Activates Metamask extension. 
Blocks until user allows or rejects connection.
If user rejects connection, SnookWebException is thrown.
If user accepts connection, the function returns undefined.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>walletName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">wallet name; currently only Metamask is supported</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line133">line 133</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        SnookWebException
    
    </div>


    


<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="on"><span class="type-signature"></span>on<span class="signature">(eventName, cb)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>eventName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the only event name supported is Transfer</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onEventCallback">onEventCallback</a></span>


            
            </td>

            

            

            <td class="description last">callback to be called on the event; snookId is transferred to cb</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="snookweb.js.html">snookweb.js</a>, <a href="snookweb.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="SnookWeb.html">SnookWeb</a></li><li><a href="SnookWebException.html">SnookWebException</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun May 09 2021 14:33:31 GMT+0300 (Israel Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>